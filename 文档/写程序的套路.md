# 写程序的套路

## 类即函数

OOP与FP只是风格不同，类的构造器即高阶函数。然而OOP也好，FP也好都引入了太多让人迷惑的概念——比如封装、继承、多态、纯函数、高阶函数、柯里化……

它们的目的是减轻程序员的心智负担，事实上却好像导致了“宗教冲突”。

我认为不应当把两种编程范式割裂开来，形成一种非此即彼的二元观点，相反，有些问题可能需要引入更多的编程范式来解决（比如SQL等DSL）。而在更多时候，OOP和FP只是描述解决问题方法的两个视角

- 类构造对象保存状态，函数形成闭包保存状态
- 对象的方法是绑定了对象状态（this）的函数
- 编程的复杂度源于管理状态，FP也需要管理状态
- 管理状态的风格形成了OOP和FP
- 面向对象有设计模式（四人帮），函数式编程也有设计模式，两者往往有对应关系

所以OOP和FP（或更多的编程范式）实际是一回事，如下

```javascript
export default function (context, args) {
    // Process
}
```

## 编程语言的常见特性

- 变量
- 算术运算
- 循环与分支语句
- 函数（Lambda）
- 递归
- 类型推导
- 闭包
- 面向对象
- 类型系统
- 泛型
- 异常
- 垃圾回收
- 代理
- 指针
- 解构
- 协程
- 锁

### 更多特性

- 有状态与无状态
- `goto`语句
